<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Data and Computation &#8212; DataTech 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Statistical Learning Machines" href="learning.html" />
    <link rel="prev" title="Introduction" href="intro.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="data-and-computation">
<h1>Data and Computation<a class="headerlink" href="#data-and-computation" title="Permalink to this headline">¶</a></h1>
<p>This chapter will serve two purposes:</p>
<ol class="arabic simple">
<li>Introduce the broad definition of data that we will use throughout this book, and demonstrate how computer programs interact with data</li>
<li>Provide a crash course in Python</li>
</ol>
<p>Because we are assuming that you are already familiar with a sequential programming language such as C, we will not dwell on common syntax elements such as <code class="docutils literal"><span class="pre">if</span></code> statements and Boolean expressions.
While minor differences abound between the precise use of these common statements in Python, C, and Java, we will not go over these and hope that you can learn from the examples throughout the book.
Instead, we will devote our time to show you what make Python truly unique.
A good understanding of pythonic programming idioms is fundamental to reading and writing good Python code.
If you have trouble keeping up with the programming aspects of this chapter then I recommend <a class="reference external" href="https://docs.python.org/3/tutorial/">The Python Tutorial</a>.</p>
<div class="section" id="two-tales-of-data">
<h2>Two Tales of Data<a class="headerlink" href="#two-tales-of-data" title="Permalink to this headline">¶</a></h2>
<p>To early statisticians, data primarily meant a sample from a population, such as the result of a survey or experiment.
Sir Francis Galton (1822-1911) employed surveys to study human genetics and inheritance of ability <a class="footnote-reference" href="#f1" id="id1">[1]</a>.
The idea that this data is a random draw from some larger population, and by collecting such data, we can glean information about unknown quantities and properties.
Such surveys collected data with the express purpose of calculating statistics in order to estimate desired population level quantities.
Building on the work of Galton, statisticians such as R.A. Fisher (1890-1962) developed tools to quantify the uncertainty of statistics extracted from sampled data.
Modern Statistics is an expanding field devoted to understanding uncertainty inherent in statistical calculations and algorithms.
Now statistics are extracted from every type of dataset imaginable, from text data to videos.</p>
<p>To the computer scientist, data is anything stored on the computer that is used as input or intermediate results for a program.
Alan Turing (1912 - 1954) conceved of a computer, which we now call a Turing machine, that works by reading and writing data on a tape of arbitrary length.
This served as an early model of a computer, and central to its usefulness as a theoretical construct is the idea that data can influence the state of the processing unit, and in turn the processor will write and alter the data.
As we will see the modern computer architecture is built up from this simple model, and understanding modern architectures is critical to being a successful data scientist.</p>
<p>One might be concerned that these two conceptions of data are in conflict.
Where is randomness in the Computer Science (CS) notion of data?
Why does the use of data as samples from a population seem to be more restrictive than data as anything stored in memory?
In fact, the idea that data are anything that is stored in memory is not in conflict with the use of data in Statistics.
Data are anything stored in memory, and statistics are anything that is extracted from data.
Instead of thinking of a statistic as just a number, we often imbue it with a probability distribution, which enables us to quantify uncertainty.
Looking forward, we should think of data as both an object in memory that has to be transferred, processed, and learned from, in addition to being a random quantity.
Data carries this randomness like baggage, that it unpacks to produce uncertainty and error, but luckily we can quantify this uncertainty with statistical reasoning.</p>
</div>
<div class="section" id="data-in-python">
<h2>Data in Python<a class="headerlink" href="#data-in-python" title="Permalink to this headline">¶</a></h2>
<p>In programming languages, a variable refers to a location in memory for a datum (a single number) and the name that we use to identify this location in our code.
In Python, we might initialize a variable by <code class="docutils literal"><span class="pre">x=8</span></code> which writes the integer <code class="docutils literal"><span class="pre">8</span></code> to a block in memory and <code class="docutils literal"><span class="pre">x</span></code> now references this location.
This differs from the idea of a random variable from probability&#8212;<code class="docutils literal"><span class="pre">x</span></code> doesn&#8217;t necessarily have an associated probability distribution&#8212;and whenever possible we use the phrase random variable to dilineate them.
Data is anything that we can record and process to extract information, and consequently, we will consider all variables to reference data.
This liberal understanding of data can be befuddling at first.
How can we think of <code class="code docutils literal"><span class="pre">name</span> <span class="pre">=</span> <span class="pre">&quot;Herbert</span> <span class="pre">Hoover&quot;</span></code> as a datum?</p>
<p>Consider the first 15 rows of the following dataframe (a table of data).
The full table contains the length in number of words of the state of the union addresses for each U.S. president <a class="reference internal" href="#pres" id="id2">[Pres]</a>.</p>
<table border="1" class="colwidths-given docutils" id="id3">
<caption><span class="caption-text">State of the Union Length</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">date</th>
<th class="head">name</th>
<th class="head">words</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>January 8, 1790</td>
<td>George Washington</td>
<td>1089</td>
</tr>
<tr class="row-odd"><td>December 8, 1790</td>
<td>George Washington</td>
<td>1401</td>
</tr>
<tr class="row-even"><td>October 25, 1791</td>
<td>George Washington</td>
<td>2302</td>
</tr>
<tr class="row-odd"><td>November 6, 1792</td>
<td>George Washington</td>
<td>2101</td>
</tr>
<tr class="row-even"><td>December 3, 1793</td>
<td>George Washington</td>
<td>1968</td>
</tr>
<tr class="row-odd"><td>November 19, 1794</td>
<td>George Washington</td>
<td>2918</td>
</tr>
<tr class="row-even"><td>December 8, 1795</td>
<td>George Washington</td>
<td>1989</td>
</tr>
<tr class="row-odd"><td>December 7, 1796</td>
<td>George Washington</td>
<td>2871</td>
</tr>
<tr class="row-even"><td>November 22, 1797</td>
<td>John Adams</td>
<td>2063</td>
</tr>
<tr class="row-odd"><td>December 8, 1798</td>
<td>John Adams</td>
<td>2218</td>
</tr>
<tr class="row-even"><td>December 3, 1799</td>
<td>John Adams</td>
<td>1505</td>
</tr>
<tr class="row-odd"><td>November 22, 1800</td>
<td>John Adams</td>
<td>1372</td>
</tr>
<tr class="row-even"><td>December 8, 1801</td>
<td>Thomas Jefferson</td>
<td>3224</td>
</tr>
<tr class="row-odd"><td>December 15, 1802</td>
<td>Thomas Jefferson</td>
<td>2197</td>
</tr>
<tr class="row-even"><td>October 17, 1803</td>
<td>Thomas Jefferson</td>
<td>2263</td>
</tr>
</tbody>
</table>
<p>Now it makes sense that &#8220;Herbert Hoover&#8221; is a datum, since it is an element of this dataframe.
We can even think of probability distributions over the name variable since we can think of randomly sampling the rows of this table, making this a random variable in some contexts.
Data can be webpages, images, earnings reports, religious scripture, etc.</p>
<p>Python has built-in variable types that for the most part can be categorized into numeric types, sequences, mappings, classes, instances, and exceptions.
<em>Numeric types</em> include booleans (True and False), integers, floats, and complex.
<em>Sequences</em> include strings, lists, and tuples, while <em>mappings</em> are dictionaries.
<em>Exceptions</em> are how errors are handled (unless they are syntax errors).
<em>Classes and instances</em> enable object-oriented programming in Python: classes are custom types that you can specify in code, while instances are specific variables with that class.
In this chapter, we will focus only on numerical types and sequences, we will see the other variable types crop up in later chapters.
We will not go into all of the details of the python language syntax, but I will highlight some useful tools from the standard library, pythonic concepts, and how these relate to data science.</p>
<p>The words column in the table above contains all integers.
Integer is a numerical type, along with floats (real numbers) and booleans (True and False).
In order to work with one datum in the word column at a time, we could of course define specific variables:</p>
<div class="literal-block-wrapper docutils container" id="average-py">
<div class="code-block-caption"><span class="caption-text">average.py</span><a class="headerlink" href="#average-py" title="Permalink to this code">¶</a></div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">word1</span> <span class="o">=</span> <span class="mi">1089</span>
<span class="n">word2</span> <span class="o">=</span> <span class="mi">1401</span>
<span class="n">average</span> <span class="o">=</span> <span class="p">(</span><span class="n">word1</span> <span class="o">+</span> <span class="n">word2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
<span class="k">print</span><span class="p">(</span><span class="n">average</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Then if you run <code class="code docutils literal"><span class="pre">$</span> <span class="pre">python</span> <span class="pre">average.py</span></code> in the command line it would output <code class="code docutils literal"><span class="pre">1245.0</span></code>.
(Celebrations are in order since we have computed our first statistic.)
What happened is that we saved two integers and averaged them.
It is important to note the specific output here because it one of the most visible differences between Python 2 and Python 3.
Two of our numerical types, integers and floats, appear in the code above; <code class="code docutils literal"><span class="pre">word1,</span> <span class="pre">word2</span></code> are integers and <code class="code docutils literal"><span class="pre">average</span></code> will be a float.
This is because in Python 3, integer division (/) always outputs a float type, hence the decimal place in the output.
You can use the operator // for integer division that outputs the rounded down division as in <code class="code docutils literal"><span class="pre">(word1</span> <span class="pre">+</span> <span class="pre">word2)</span> <span class="pre">//</span> <span class="pre">2</span></code>.
There are many other common operators for the numerical and Boolean types, if you are not familiar with them you can consult <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html">https://docs.python.org/3/library/stdtypes.html</a>.
Because these operators are common to the major sequential programming languages, we will not go over them here, and will instead focus on the elements that make Python unique.</p>
<p>Unlike C or Java, Python is <em>dynamically typed</em>, which means that we do not pre-specify that <code class="code docutils literal"><span class="pre">average</span></code> will be a float and Python has to figure this out on the fly.
This is one of the things that the just-in-time (JIT) compiler does, it figures out that the computer needs to allocate memory for a float just in time.
We have seen in the previous chapter that the JIT compiler makes it so that we can use python interactively instead of writing separate code and running it from command line like we did for average.py.</p>
<div class="section" id="lists-and-slicing">
<h3>Lists and slicing<a class="headerlink" href="#lists-and-slicing" title="Permalink to this headline">¶</a></h3>
<p>The code above can only be used to average two numbers unfortunately, and to overcome this limitation we will need to introduce lists.
At the ipython prompt we can type the following lines of python code and get the output in real time:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1089</span><span class="p">,</span> <span class="mi">1401</span><span class="p">,</span> <span class="mi">2302</span><span class="p">,</span><span class="mi">2101</span><span class="p">,</span> <span class="mi">1968</span><span class="p">,</span> <span class="mi">2918</span><span class="p">,</span> <span class="mi">1989</span><span class="p">,</span> <span class="mi">2871</span><span class="p">]</span>

<span class="gp">In [2]: </span><span class="n">word_sum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">word_sum</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="gh">Out[3]: </span><span class="go">2079.875</span>
</pre></div>
</div>
<p>The first line defines the <code class="docutils literal"><span class="pre">words</span></code> list, which contains the state of union address lengths for Washington.
It is cumbersome to maintain an new variable for each datapoint, which is why we use lists and arrays in python.
The list is an example of a sequence variable type in python, because it contains a sequence of any variable type.
Lists are good containers for repeated variables because we can modify the length, append elements, and select subsets of data (called slicing).
They can even contain mixed types of data.
Consider what happens if we have a missing datum, and encode it with the string <code class="docutils literal"><span class="pre">'NA'</span></code>.
To deal with this, we will make our own averaging function, which in python is defined using <code class="docutils literal"><span class="pre">def</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1089</span><span class="p">,</span> <span class="mi">1401</span><span class="p">,</span> <span class="mi">2302</span><span class="p">,</span><span class="s1">&#39;NA&#39;</span><span class="p">,</span><span class="mi">2101</span><span class="p">,</span> <span class="mi">1968</span><span class="p">,</span> <span class="mi">2918</span><span class="p">,</span> <span class="mi">1989</span><span class="p">,</span> <span class="mi">2871</span><span class="p">]</span>

<span class="gp">In [5]: </span><span class="k">def</span> <span class="nf">average</span><span class="p">(</span><span class="n">word_list</span><span class="p">):</span>
<span class="gp">   ...: </span>    <span class="sd">&quot;&quot;&quot;Average a list&quot;&quot;&quot;</span>
<span class="gp">   ...: </span>    <span class="n">csum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">   ...: </span>    <span class="n">num</span>  <span class="o">=</span> <span class="mi">0</span>
<span class="gp">   ...: </span>    <span class="k">for</span> <span class="n">wlen</span> <span class="ow">in</span> <span class="n">word_list</span><span class="p">:</span>
<span class="gp">   ...: </span>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">wlen</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
<span class="gp">   ...: </span>            <span class="n">csum</span> <span class="o">+=</span> <span class="n">wlen</span>
<span class="gp">   ...: </span>            <span class="n">num</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">   ...: </span>    <span class="k">return</span> <span class="n">csum</span> <span class="o">/</span> <span class="n">num</span>
<span class="gp">   ...: </span>

<span class="gp">In [6]: </span><span class="n">average</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="gh">Out[6]: </span><span class="go">2079.875</span>
</pre></div>
</div>
<p>It is common in real data to have missing data encoded as strings such as this, or as anomalous values like <code class="code docutils literal"><span class="pre">999</span></code> (This is bad practice, but you may have to deal with it none-the-less).
As a solution, we decided to catch any instance of a non-integer and not include it in the sum.
We used the built-in function <code class="docutils literal"><span class="pre">type</span></code> which will tell you the type of the object.
This is useful when you don&#8217;t know the type of the object that a function or method has returned.
You can check the type on the fly and then look for documentation for this type to see what to do next.</p>
<blockquote>
<div><strong>Aside:</strong> In the above code, we also saw the use of <code class="code docutils literal"><span class="pre">def,</span> <span class="pre">for,</span> <span class="pre">if,</span> <span class="pre">return</span></code>.
These are standard in sequential programming, and if you want a detailed introduction to logic, control flow, and functions you can skim through <a class="reference external" href="https://docs.python.org/3/tutorial/controlflow.html">the Python doc, control flow tutorial</a>.
We will discuss some of the ways that <code class="docutils literal"><span class="pre">for</span></code> loops are used in python, later in this chapter.
You may notice that I added a documentation string in the line after the <code class="docutils literal"><span class="pre">def</span></code> command.
You can access the <em>doc string</em> for a function using the built-in function, <code class="docutils literal"><span class="pre">help</span></code>.
It is best practice to add doc strings to your functions, and you can find best practices in <a class="reference external" href="https://www.python.org/dev/peps/pep-0257/">PEP 257</a>.
The following is shown when you enter <code class="docutils literal"><span class="pre">help(average)</span></code> into the ipython prompt:</div></blockquote>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Help</span> <span class="n">on</span> <span class="n">function</span> <span class="n">average</span> <span class="ow">in</span> <span class="n">module</span> <span class="n">__main__</span><span class="p">:</span>

<span class="n">average</span><span class="p">(</span><span class="n">word_list</span><span class="p">)</span>
    <span class="n">Average</span> <span class="n">a</span> <span class="nb">list</span>
</pre></div>
</div>
<p><em>Slicing</em> is when you subselect elements of a sequence, like a list.
Consider the following slices of the words list:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1089</span><span class="p">,</span> <span class="mi">1401</span><span class="p">,</span> <span class="mi">2302</span><span class="p">,</span><span class="s1">&#39;NA&#39;</span><span class="p">,</span><span class="mi">2101</span><span class="p">,</span> <span class="mi">1968</span><span class="p">,</span> <span class="mi">2918</span><span class="p">,</span> <span class="mi">1989</span><span class="p">,</span> <span class="mi">2871</span><span class="p">]</span>

<span class="gp">In [8]: </span><span class="n">words</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gh">Out[8]: </span><span class="go">&#39;NA&#39;</span>

<span class="gp">In [9]: </span><span class="n">words</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">             Out[9]: [1089, 1401, 2302, &#39;NA&#39;]</span>

<span class="gp">In [10]: </span><span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">                                              Out[10]: [1089, 1401, 2302, &#39;NA&#39;]</span>

<span class="gp">In [11]: </span><span class="n">words</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">                                                                                Out[11]: 2871</span>

<span class="gp">In [12]: </span><span class="n">words</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">                                                                                              Out[12]: [1089, 1401, 2302, &#39;NA&#39;, 2101, 1968, 2918, 1989]</span>

<span class="gp">In [13]: </span><span class="n">words</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
<span class="go">                                                                                                                                                        Out[13]: [2918, 1989, 2871]</span>

<span class="gp">In [14]: </span><span class="n">words</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<span class="go">                                                                                                                                                                                    Out[14]: [1089, 2302, 2101, 2918, 2871]</span>

<span class="gp">In [15]: </span><span class="n">words</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">                                                                                                                                                                                                                            Out[15]: [2871, 1989, 2918, 1968, 2101, &#39;NA&#39;, 2302, 1401, 1089]</span>
</pre></div>
</div>
<p>Line <code class="docutils literal"><span class="pre">[8]</span></code> selects the fourth element even though we are asking for index <code class="docutils literal"><span class="pre">3</span></code>, which if you are not accustomed to zero-based numbering can cause lots of headaches.
The idea here is that the first element of the list actually corresponds to index <code class="docutils literal"><span class="pre">0</span></code>, so the fourth is index <code class="docutils literal"><span class="pre">3</span></code>.
One advantage of this is on lines <code class="docutils literal"><span class="pre">[9]</span></code> and <code class="docutils literal"><span class="pre">[10]</span></code> where we see our first slice of the first four elements.
Because of zero-based numbering, the <code class="docutils literal"><span class="pre">4</span></code> in slice <code class="docutils literal"><span class="pre">:4</span></code> is also the number of elements returned.
<code class="docutils literal"><span class="pre">[9]</span></code> and <code class="docutils literal"><span class="pre">[10]</span></code> do the same thing, because the <code class="docutils literal"><span class="pre">0</span></code> in <code class="docutils literal"><span class="pre">0:4</span></code> may be omitted.
Negative indexing is allowed, as in <code class="docutils literal"><span class="pre">[11]</span></code>, which is handy when you want the last element, and you can also combine it with slicing as in <code class="docutils literal"><span class="pre">[12]</span></code> and <code class="docutils literal"><span class="pre">[13]</span></code> (notice that we did not need to specify the <code class="docutils literal"><span class="pre">-1</span></code> as in <code class="docutils literal"><span class="pre">-3:-1</span></code>).
You can also specify a stride, the number of indices to move by in the slice, and get every other element, <code class="docutils literal"><span class="pre">[14]</span></code>, or reverse the list, <code class="docutils literal"><span class="pre">[15]</span></code>.
In general, the slice <code class="docutils literal"><span class="pre">a:b:c</span></code> will start at <code class="docutils literal"><span class="pre">a</span></code> until <code class="docutils literal"><span class="pre">b</span></code> moving by <code class="docutils literal"><span class="pre">c</span></code> indices each time.</p>
</div>
<div class="section" id="code-blocks-and-indentation">
<h3>Code blocks and indentation<a class="headerlink" href="#code-blocks-and-indentation" title="Permalink to this headline">¶</a></h3>
<p>In my code above the <code class="docutils literal"><span class="pre">def</span></code> was followed by indented code, which defines a code <em>block</em>, a functional unit of code.
The indentation here is not optional in Python, which is a perpetual source of frustration to new Python users.
In C and R, blocks are defined using curly brackets <code class="docutils literal"><span class="pre">{}</span></code> and indentation is a recommended practice,
In Python, this indentation is enforced, and the colon, :, after the def, for, and if statements indicate the start of a new block and more indentation.
You end a block by reducing the indentation.
If you try to break these rules, then the interpreter will throw and error.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">10</span>
<span class="gp">   ....: </span>        <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="gt">  File</span><span class="nn"> &quot;&lt;ipython-input-16-30d0800a25ee&gt;&quot;</span><span class="gt">, line </span><span class="mi">3</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="o">^</span>
<span class="ne">IndentationError</span>: unexpected indent
</pre></div>
</div>
<p>Why does python do this?  Let us consult the Zen of Python <a class="reference external" href="https://www.python.org/dev/peps/pep-0020/">PEP-20</a>:</p>
<blockquote>
<div>&#8220;Readability counts.&#8221; &#8212;Zen of Python</div></blockquote>
<p>The indentation makes this code much more readable.
This comes at a cost: code with many nested blocks will have some extreme indentation.
But again the Zen of Python steps in,</p>
<blockquote>
<div><p>&#8220;Simple is better than complex...</p>
<p>Flat is better than nested.&#8221; &#8212;Zen of Python</p>
</div></blockquote>
<p>It is better to separate out complex code into functions with clear documentation.
This also keeps you from writing many nested <code class="docutils literal"><span class="pre">for</span></code> loops which is typically very inefficient and slow in Python.
We will prefer to write short simple code that relies heavily on Python modules such as numpy, scipy, etc..</p>
</div>
<div class="section" id="tuples-and-immutability">
<h3>Tuples and immutability<a class="headerlink" href="#tuples-and-immutability" title="Permalink to this headline">¶</a></h3>
<p>Tuples are another form of sequence and they are initialized by wrapping them in parentheses <code class="docutils literal"><span class="pre">()</span></code>, as opposed to brackets <code class="docutils literal"><span class="pre">[]</span></code> for lists.
So for example <code class="code docutils literal"><span class="pre">(&quot;dog&quot;,&quot;german</span> <span class="pre">shorthaired</span> <span class="pre">pointer&quot;,&quot;Buckley&quot;)</span></code> initializes a tuple.
The tuple is an example of an <em>immutable</em> variable in Python, which means that the variable does not allow modification after its definition.
So if we attempt to modify the 2nd entry,</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="n">row</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;January 8, 1790&quot;</span><span class="p">,</span><span class="s2">&quot;George Washington&quot;</span><span class="p">,</span><span class="mi">1089</span><span class="p">)</span>

<span class="gp">In [18]: </span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;G. Washington&quot;</span>
<span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-18-144cd323ed29&gt;</span> in <span class="ni">&lt;module&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;G. Washington&quot;</span>

<span class="ne">TypeError</span>: &#39;tuple&#39; object does not support item assignment
</pre></div>
</div>
<p>a TypeError is thrown.  Nevertheless, <code class="code docutils literal"><span class="pre">(&quot;January</span> <span class="pre">8,</span> <span class="pre">1790&quot;,&quot;George</span> <span class="pre">Washington&quot;,1089)</span></code> is a good use of a tuple, because these variables belong together as the record&#8212;a row&#8212;in a data table.
Generally, you should think of tuples as records and lists as repeated variables.</p>
<p>Tuples are also support an idiom called tuple unpacking.
The idea is that we can assign values to multiple variables at once:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="c1">#assign values</span>

<span class="gp">In [20]: </span><span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="c1">#swap values</span>

<span class="gp">In [21]: </span><span class="n">r</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="c1">#nested value assignment and swapping</span>

<span class="gp">In [22]: </span><span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
<span class="go">1 2 2.23606797749979</span>
</pre></div>
</div>
<p>The line <code class="docutils literal"><span class="pre">[1]</span></code> made it so that we could define the variables x and y in the same line.
The only requirement was that the right hand side of the equation was a tuple of the same length.
The line <code class="docutils literal"><span class="pre">[2]</span></code> shows that you can use this idiom to swap values (this would normally take three lines).
<code class="docutils literal"><span class="pre">[3]</span></code> shows that we can apply this to nested tuples, which can be useful if a function returns this type of data.
Did you predict the output of <code class="docutils literal"><span class="pre">[4]</span></code>?</p>
</div>
</div>
<div class="section" id="processing-data-latency-and-iterables">
<h2>Processing Data, Latency, and Iterables<a class="headerlink" href="#processing-data-latency-and-iterables" title="Permalink to this headline">¶</a></h2>
<div class="section" id="strings-and-input-output-io">
<h3>Strings and Input/Output (IO)<a class="headerlink" href="#strings-and-input-output-io" title="Permalink to this headline">¶</a></h3>
<p>Strings are sequences of characters and are immutable as well.
We have already seen instances such as <code class="docutils literal"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">&quot;George</span> <span class="pre">Washington&quot;</span></code>, and like other sequences we can slice them as in <code class="docutils literal"><span class="pre">s[:6]</span></code>.
Strings support concatenation with the operator +, and repetition with the operation *.
The fact that these operators are defined differently for strings as they are for integers and floats is called <em>operator overloading</em>.
In this subsection, we will go over the following string methods: <code class="docutils literal"><span class="pre">join,</span> <span class="pre">strip,</span> <span class="pre">split,</span> <span class="pre">replace,</span> <span class="pre">format</span></code>.
You can find these and other string methods such as <code class="docutils literal"><span class="pre">lower,</span> <span class="pre">upper</span></code> in <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str">Python text documentation</a>.</p>
<p>As another example, we will look at a wine quality dataset, available at the <a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/wine">UCI machine learning repository</a>.
We will use linux to anticipate the size of this dataset and look at its top several lines.
Let&#8217;s use the bash command, <code class="docutils literal"><span class="pre">ls</span> <span class="pre">-l</span></code>, to see the size of our file.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>$ ls -l ../data/winequality-red.cs
</pre></div>
</div>
<p>The output is as follows.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">1</span> <span class="n">jsharpna</span> <span class="n">jsharpna</span> <span class="mi">84199</span> <span class="n">Oct</span> <span class="mi">16</span>  <span class="mi">2009</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">winequality</span><span class="o">-</span><span class="n">red</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
<p>We can see that the fifth output tells us that the file has 85 kilobytes, so it will not be a problem to load it into memory.
Let&#8217;s look at the top of the file using the bash command <code class="docutils literal"><span class="pre">head</span></code>,</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>$ head ../data/winequality-red.csv
</pre></div>
</div>
<p>which has the following output.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;fixed acidity&quot;</span><span class="p">;</span><span class="s2">&quot;volatile acidity&quot;</span><span class="p">;</span><span class="s2">&quot;citric acid&quot;</span><span class="p">;</span><span class="s2">&quot;residual sugar&quot;</span><span class="p">;</span><span class="s2">&quot;chlorides&quot;</span><span class="p">;</span><span class="s2">&quot;free sulfur dioxide&quot;</span><span class="p">;</span><span class="s2">&quot;total sulfur dioxide&quot;</span><span class="p">;</span><span class="s2">&quot;density&quot;</span><span class="p">;</span><span class="s2">&quot;pH&quot;</span><span class="p">;</span><span class="s2">&quot;sulphates&quot;</span><span class="p">;</span><span class="s2">&quot;alcohol&quot;</span><span class="p">;</span><span class="s2">&quot;quality&quot;</span>
<span class="mf">7.4</span><span class="p">;</span><span class="mf">0.7</span><span class="p">;</span><span class="mi">0</span><span class="p">;</span><span class="mf">1.9</span><span class="p">;</span><span class="mf">0.076</span><span class="p">;</span><span class="mi">11</span><span class="p">;</span><span class="mi">34</span><span class="p">;</span><span class="mf">0.9978</span><span class="p">;</span><span class="mf">3.51</span><span class="p">;</span><span class="mf">0.56</span><span class="p">;</span><span class="mf">9.4</span><span class="p">;</span><span class="mi">5</span>
<span class="mf">7.8</span><span class="p">;</span><span class="mf">0.88</span><span class="p">;</span><span class="mi">0</span><span class="p">;</span><span class="mf">2.6</span><span class="p">;</span><span class="mf">0.098</span><span class="p">;</span><span class="mi">25</span><span class="p">;</span><span class="mi">67</span><span class="p">;</span><span class="mf">0.9968</span><span class="p">;</span><span class="mf">3.2</span><span class="p">;</span><span class="mf">0.68</span><span class="p">;</span><span class="mf">9.8</span><span class="p">;</span><span class="mi">5</span>
<span class="mf">7.8</span><span class="p">;</span><span class="mf">0.76</span><span class="p">;</span><span class="mf">0.04</span><span class="p">;</span><span class="mf">2.3</span><span class="p">;</span><span class="mf">0.092</span><span class="p">;</span><span class="mi">15</span><span class="p">;</span><span class="mi">54</span><span class="p">;</span><span class="mf">0.997</span><span class="p">;</span><span class="mf">3.26</span><span class="p">;</span><span class="mf">0.65</span><span class="p">;</span><span class="mf">9.8</span><span class="p">;</span><span class="mi">5</span>
<span class="mf">11.2</span><span class="p">;</span><span class="mf">0.28</span><span class="p">;</span><span class="mf">0.56</span><span class="p">;</span><span class="mf">1.9</span><span class="p">;</span><span class="mf">0.075</span><span class="p">;</span><span class="mi">17</span><span class="p">;</span><span class="mi">60</span><span class="p">;</span><span class="mf">0.998</span><span class="p">;</span><span class="mf">3.16</span><span class="p">;</span><span class="mf">0.58</span><span class="p">;</span><span class="mf">9.8</span><span class="p">;</span><span class="mi">6</span>
<span class="mf">7.4</span><span class="p">;</span><span class="mf">0.7</span><span class="p">;</span><span class="mi">0</span><span class="p">;</span><span class="mf">1.9</span><span class="p">;</span><span class="mf">0.076</span><span class="p">;</span><span class="mi">11</span><span class="p">;</span><span class="mi">34</span><span class="p">;</span><span class="mf">0.9978</span><span class="p">;</span><span class="mf">3.51</span><span class="p">;</span><span class="mf">0.56</span><span class="p">;</span><span class="mf">9.4</span><span class="p">;</span><span class="mi">5</span>
<span class="mf">7.4</span><span class="p">;</span><span class="mf">0.66</span><span class="p">;</span><span class="mi">0</span><span class="p">;</span><span class="mf">1.8</span><span class="p">;</span><span class="mf">0.075</span><span class="p">;</span><span class="mi">13</span><span class="p">;</span><span class="mi">40</span><span class="p">;</span><span class="mf">0.9978</span><span class="p">;</span><span class="mf">3.51</span><span class="p">;</span><span class="mf">0.56</span><span class="p">;</span><span class="mf">9.4</span><span class="p">;</span><span class="mi">5</span>
<span class="mf">7.9</span><span class="p">;</span><span class="mf">0.6</span><span class="p">;</span><span class="mf">0.06</span><span class="p">;</span><span class="mf">1.6</span><span class="p">;</span><span class="mf">0.069</span><span class="p">;</span><span class="mi">15</span><span class="p">;</span><span class="mi">59</span><span class="p">;</span><span class="mf">0.9964</span><span class="p">;</span><span class="mf">3.3</span><span class="p">;</span><span class="mf">0.46</span><span class="p">;</span><span class="mf">9.4</span><span class="p">;</span><span class="mi">5</span>
<span class="mf">7.3</span><span class="p">;</span><span class="mf">0.65</span><span class="p">;</span><span class="mi">0</span><span class="p">;</span><span class="mf">1.2</span><span class="p">;</span><span class="mf">0.065</span><span class="p">;</span><span class="mi">15</span><span class="p">;</span><span class="mi">21</span><span class="p">;</span><span class="mf">0.9946</span><span class="p">;</span><span class="mf">3.39</span><span class="p">;</span><span class="mf">0.47</span><span class="p">;</span><span class="mi">10</span><span class="p">;</span><span class="mi">7</span>
<span class="mf">7.8</span><span class="p">;</span><span class="mf">0.58</span><span class="p">;</span><span class="mf">0.02</span><span class="p">;</span><span class="mi">2</span><span class="p">;</span><span class="mf">0.073</span><span class="p">;</span><span class="mi">9</span><span class="p">;</span><span class="mi">18</span><span class="p">;</span><span class="mf">0.9968</span><span class="p">;</span><span class="mf">3.36</span><span class="p">;</span><span class="mf">0.57</span><span class="p">;</span><span class="mf">9.5</span><span class="p">;</span><span class="mi">7</span>
</pre></div>
</div>
<p>When reading data the <code class="docutils literal"><span class="pre">strip,</span> <span class="pre">split</span></code> methods are very helpful.  <code class="docutils literal"><span class="pre">strip</span></code> can allow us to remove unnecessary trailing and leading characters and <code class="docutils literal"><span class="pre">split</span></code> will split the string on a given character.
Before we use these methods, we need to read in the data.
The <code class="docutils literal"><span class="pre">open</span></code> function will create a variable which allows us to read the file line by line.
The first argument is the file location, and the next determines if we are reading, <code class="docutils literal"><span class="pre">'r'</span></code>, or writing, <code class="docutils literal"><span class="pre">'w'</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">data_folder</span> <span class="o">=</span> <span class="s1">&#39;../data/&#39;</span>

<span class="gp">In [24]: </span><span class="n">winefile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">data_folder</span> <span class="o">+</span> <span class="s1">&#39;winequality-red.csv&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">header</span> <span class="o">=</span> <span class="n">winefile</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

<span class="gp">In [26]: </span><span class="n">winefile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">winefile</span></code> has the <code class="docutils literal"><span class="pre">readline()</span></code> method which returns the first line of file as a string.
We close the file now, since we are done with it for now.  Closing files is important especially when you are writing to a file.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">header</span>
<span class="gh">Out[27]: </span><span class="go">&#39;&quot;fixed acidity&quot;;&quot;volatile acidity&quot;;&quot;citric acid&quot;;&quot;residual sugar&quot;;&quot;chlorides&quot;;&quot;free sulfur dioxide&quot;;&quot;total sulfur dioxide&quot;;&quot;density&quot;;&quot;pH&quot;;&quot;sulphates&quot;;&quot;alcohol&quot;;&quot;quality&quot;\n&#39;</span>
</pre></div>
</div>
<p>We can see that this string has delimiters of <code class="docutils literal"><span class="pre">;</span></code> and a trailing newline <code class="docutils literal"><span class="pre">\n</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">header</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="gp">In [29]: </span><span class="n">names</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">strip</span></code> will take a character or regular expression as an argument, but by default it removes any trailing or leading whitespace (newlines, space, etc.).
<code class="docutils literal"><span class="pre">split</span></code> will create a list of strings by splitting the header on the delimiter <code class="docutils literal"><span class="pre">;</span></code>, which is handy when reading delimited text data such as CSV files.
<code class="docutils literal"><span class="pre">names</span></code> now holds the variables with extra quotations around them.
Suppose that we would like to create a string that describes the dataset in terms of the variables.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [30]: </span><span class="n">name_st</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>

<span class="gp">In [31]: </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;The variable names are {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name_st</span><span class="p">))</span>
<span class="go">The variable names are &quot;fixed acidity&quot;, &quot;volatile acidity&quot;, &quot;citric acid&quot;, &quot;residual sugar&quot;, &quot;chlorides&quot;, &quot;free sulfur dioxide&quot;, &quot;total sulfur dioxide&quot;, &quot;density&quot;, &quot;pH&quot;, &quot;sulphates&quot;, &quot;alcohol&quot;, &quot;quality&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">join</span></code> is the preferred way to combine a list of strings, think of it as the reverse of <code class="docutils literal"><span class="pre">split</span></code>.
<code class="docutils literal"><span class="pre">format</span></code> is how you insert other strings into larger strings by replacing instances of <code class="docutils literal"><span class="pre">{}</span></code> with the arguments.
There are other alternatives to the <code class="docutils literal"><span class="pre">format</span></code> method, such as formatted string literals, and you can read <a class="reference external" href="https://docs.python.org/3/tutorial/inputoutput.html">this Python IO tutorial</a> for a more complete picture.</p>
</div>
<div class="section" id="reading-data">
<h3>Reading data<a class="headerlink" href="#reading-data" title="Permalink to this headline">¶</a></h3>
<p>Data can be stored in different places on your computer or network, and understanding where your data is and where it needs to go is critical to successfully processing data.
Typically, your data will be on a hard drive or solid state drive either on your PC, server, or network drive.
When you assign a variable in Python, that data will then be written in main memory&#8212;Random Access Memory (RAM).
For standard computer architectures, data must be in the main memory for it to be processed by the central processing unit (CPU).
Accessing main memory is faster than hard drives, but they are also typically much smaller.
Massive datasets are often too large to be stored on a single machine, and need to be distributed across network drives.
To work with that data, it much be routed through a data network resulting in significantly slower data transfer speeds.
The CERN Large Hadron Collider in Geneva, Switzerland, has stored over 200 petabytes in a library of very high capacity tape drives.</p>
<p>Your program will have a compute time and a memory allocation.  You will see the effects of poor computational efficiency when you have to wait for your process to terminate.  Typically, you will not notice a poor use of memory until you run out of main memory and then your process will stall because it will start allocating space in the hard drive (called swap memory).
A statistic is anything that is extracted from your data, and if you know the statistics that you want to compute you can often do this without loading all of your data at once.
Let&#8217;s work through an example illustrating this principle.</p>
<p>The scrabble dictionary is a highly extensive dictionary of words in the English language without any definitions.
(Scrabble is a game in which you place letters on a board to spell words to earn points.)
Master scrabble players memorize the scrabble dictionary, which means they know the precise spelling of many obscure words without necessarily knowing their meaning.
Let&#8217;s look at the head of one such dictionary.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="o">!</span>head ../data/sowpods.txt
<span class="go">AA</span>
<span class="go">AAH</span>
<span class="go">AAHED</span>
<span class="go">AAHING</span>
<span class="go">AAHS</span>
<span class="go">AAL</span>
<span class="go">AALII</span>
<span class="go">AALIIS</span>
<span class="go">AALS</span>
<span class="go">AARDVARK</span>
</pre></div>
</div>
<p>For this exercise, let&#8217;s define an ordered word as a word in which each letter is followed only by itself or letters that are further in the alphabet.
So for example, HISSY is ordered because H is before I is before S, etc.
On the other hand BANANA is not ordered because B comes after A.
Our goal is to find the longest ordered words in the scrabble dictionary.</p>
<p>Let&#8217;s write one function to read the data and output the scrabble dictionary as a list of strings.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">read_dictionary</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;../data/sowpods.txt&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;create a list of words in the scrabble dictionary&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">scrabblefile</span><span class="p">:</span>
        <span class="n">scrabble_dict</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">scrabblefile</span><span class="p">]</span>
    <span class="k">return</span><span class="p">(</span><span class="n">scrabble_dict</span><span class="p">)</span>
</pre></div>
</div>
<p>There are a few syntax elements to note here, and one important idiom which will let us talk about <em>iterables</em>.
Recall that <code class="docutils literal"><span class="pre">open(filename,'r')</span></code> opens a File object that reads the file in the filename.
(We use the <code class="code docutils literal"><span class="pre">with</span> <span class="pre">...</span> <span class="pre">as</span> <span class="pre">...:</span></code> idiom that in this case will automatically close the file once it is done.)
The file object that is returned from open is an example of an iterable object, which means that it can be used in a for loop.
So far we have seen for loops that involve lists, which are also iterables, and you can roughly think of iterables as being objects that can be looped over.
Technically, an iterable is anything that can be turned into an iterator via the <code class="code docutils literal"><span class="pre">iter</span></code> method, which is implicitely done when the for loop is initiated.
We will return to iterators in general, but for now just think of them as anything with which you can create a for loop.
In the above code block we also see our first list comprehension, which is denoted by the for loop wrapped in brackets <code class="docutils literal"><span class="pre">[]</span></code>.
There is no idiom that is more pythonic than the list comprehension, and it will be featured heavily in our code.</p>
</div>
<div class="section" id="list-comprehension-and-generator-expressions">
<h3>List comprehension and generator expressions<a class="headerlink" href="#list-comprehension-and-generator-expressions" title="Permalink to this headline">¶</a></h3>
<p>We are using a list comprehension when we write <code class="code docutils literal"><span class="pre">[word.strip()</span> <span class="pre">for</span> <span class="pre">word</span> <span class="pre">in</span> <span class="pre">scrabblefile]</span></code>, which creates a list of strings of stripped words in the scrabble dictionary.
To understand what is going on here, let&#8217;s consider a block that would do roughly the same thing as this one line:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">scrabble_dict</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">scrabblefile</span><span class="p">:</span>
    <span class="n">scrabble_dict</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</pre></div>
</div>
<p>So far we have only used lists for <code class="docutils literal"><span class="pre">for</span></code> loops, but you can also use File
Just like the for loop above, the list comprehension can take anything that is iterable and will iteratively cache the elements as <code class="code docutils literal"><span class="pre">word</span></code> and then apply <code class="code docutils literal"><span class="pre">strip</span></code> to the word which removes trailing whitespace.
The list comprehension can be thought of as a mapping that takes the elements of the iterable and applies some transformation.
It can also filter elements with the list comprehension, as in</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">scrabble_dict</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">scrabblefile</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>which returns the words in the scrabble dictionary that have more than 3 letters.
If we knew that there were ordered words that were longer than 3 letters in the scrabble dictionary (as in HISSY) then this list would be sufficient for our purposes.</p>
<p>In the above we mapped the numbers 0-99 by dividing by 3 and filtered out those which are not divisible by 3. Many times you do not want to create a list and waste the memory, and instead you want to just create an iterable. A generator expression will do this for you. It looks like a list comp, but you just surround the expression with parentheses. This can then be passed to functions that take iterables.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="nb">sum</span><span class="p">((</span><span class="n">i</span><span class="o">//</span><span class="mi">3</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">),</span><span class="mi">100</span><span class="p">)</span> <span class="c1">#100+0+1+2+...+33</span>
<span class="gh">Out[33]: </span><span class="go">661</span>
</pre></div>
</div>
<p>There are a few iterators that are built-in to Python, such as <code class="docutils literal"><span class="pre">range</span></code> and <code class="docutils literal"><span class="pre">enumerate</span></code>.
<code class="docutils literal"><span class="pre">range(a,b)</span></code> will yield the integers from <code class="docutils literal"><span class="pre">a</span></code> to <code class="docutils literal"><span class="pre">b</span></code>.
<code class="docutils literal"><span class="pre">enumerate(itrbl)</span></code> takes an iterable <code class="docutils literal"><span class="pre">itrbl</span></code> and yields the tuples <code class="docutils literal"><span class="pre">(i,</span> <span class="pre">itrbl[i])</span></code>, where we interpret <code class="docutils literal"><span class="pre">itrbl[i]</span></code> to be the <code class="docutils literal"><span class="pre">i</span></code> th element as if it were a list.
We have already seen the use of <code class="docutils literal"><span class="pre">range</span></code> to run a standard <code class="docutils literal"><span class="pre">for</span></code> loop, and in the following we will use it in list comprehensions to demonstrate their uses.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [34]: </span><span class="n">sqrs</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>

<span class="gp">In [35]: </span><span class="n">sqrs</span>
<span class="gh">Out[35]: </span><span class="go">[0, 1, 4, 9, 16]</span>

<span class="gp">In [36]: </span><span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sqrs</span><span class="p">)]</span>
<span class="go">                          Out[36]: [(0, 0), (1, 1), (2, 4), (3, 9), (4, 16)]</span>
</pre></div>
</div>
</div>
<div class="section" id="iterators">
<h3>Iterators<a class="headerlink" href="#iterators" title="Permalink to this headline">¶</a></h3>
<p>Let&#8217;s write a function that tests if a word is ordered:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">is_in_order</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;return a true if the word is in order&quot;&quot;&quot;</span>
    <span class="n">witer</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>  <span class="c1">#Create the iterator</span>
    <span class="n">lettera</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">witer</span><span class="p">)</span>  <span class="c1">#store the first letter</span>
    <span class="k">for</span> <span class="n">letterb</span> <span class="ow">in</span> <span class="n">witer</span><span class="p">:</span>  <span class="c1">#start a loop at the second letter</span>
        <span class="k">if</span> <span class="n">lettera</span> <span class="o">&gt;</span> <span class="n">letterb</span><span class="p">:</span>  <span class="c1">#compare adjacent letters</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">lettera</span> <span class="o">=</span> <span class="n">letterb</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
<p>This function iterates through the letters of the word comparing each adjacent pair of letters; if a letter is greater than the next letter then it immediately returns False; if this never happens then it returns True.
The particular way that we coded this allows us to delve more deeply into the inner workings of iterables.
Strings are iterable, and when used in a for loop they will yield each letter in sequence.
Hence, we can call <code class="code docutils literal"><span class="pre">iter(word)</span></code> which will return an iterator, on which we can call the <code class="code docutils literal"><span class="pre">next</span></code> method.
The idea is that each time you call next then the iterator moves on to the following element so that you can call next again and return the following element, etc.</p>
<p>The following code iterates through the scrabble dictionary and maintains the longest ordered word length.
If this length increases then we start the list of ordered words over with the most recently found ordered word.
It appends any word that is ordered and of the same length.
Try to follow the code below.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">longest_word</span><span class="p">(</span><span class="n">scrabble_dict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns all of the longest ordered words in the scrabble dictionary&quot;&quot;&quot;</span>
    <span class="n">curr_len</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1">#Initialize the longest ordered word length</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">scrabble_dict</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_in_order</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
            <span class="n">wl</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">wl</span> <span class="o">&gt;</span> <span class="n">curr_len</span><span class="p">:</span>
                <span class="n">curr_len</span> <span class="o">=</span> <span class="n">wl</span>
                <span class="n">word_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="p">]</span>  <span class="c1">#Start a new word list</span>
            <span class="k">if</span> <span class="n">wl</span><span class="o">==</span><span class="n">curr_len</span><span class="p">:</span>
                <span class="n">word_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">word_list</span>
</pre></div>
</div>
<p>With all of these functions saved in the file scrabble.py we can import the functions in the ipython shell.
Importing scripts in the same folder works the same way that we import modules with the <code class="code docutils literal"><span class="pre">import</span></code> command.
In the following shell we find that several words including BEEFILY are ordered words with seven letters and there are none of eight or more letters.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="kn">from</span> <span class="nn">scrabble</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">In [38]: </span><span class="n">ordered_words</span> <span class="o">=</span> <span class="n">longest_word</span><span class="p">(</span><span class="n">read_dictionary</span><span class="p">())</span>

<span class="gp">In [39]: </span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ordered_words</span><span class="p">))</span>
<span class="go">ADDEEMS,ADDEEMS,BEEFILY,BILLOWY,CHIKORS,DIKKOPS,GIMMORS</span>
</pre></div>
</div>
<p>We can now ask if this was the most efficient way to code this up.
One way to assess the efficiency of code in ipython is to use the <code class="code docutils literal"><span class="pre">%timeit,</span> <span class="pre">%memit</span></code> magic commands.
<code class="code docutils literal"><span class="pre">%timeit</span></code> will time a line of code over several runs, while <code class="code docutils literal"><span class="pre">%memit</span></code> will record the amount of memory used.
You will need to install the memory profiler extension and load it as we do below (you can install it with <code class="code docutils literal"><span class="pre">$</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">memory_profiller</span></code>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [40]: </span><span class="o">%</span><span class="k">timeit</span> ordered_words = longest_word(read_dictionary())
<span class="go">10 loops, best of 3: 138 ms per loop</span>

<span class="gp">In [41]: </span><span class="o">%</span><span class="k">load_ext</span> memory_profiler

<span class="gp">In [42]: </span><span class="o">%</span><span class="k">memit</span> ordered_words = longest_word(read_dictionary())
<span class="go">peak memory: 73.01 MiB, increment: 15.57 MiB</span>
</pre></div>
</div>
<p>It took approximately 138 milliseconds on my machine, and 15.57 MiB (a Mebibyte which is approximately one Megabyte) in memory.
A MiB is roughly 1 million bytes, so why did this take so much memory?
(While this is not a lot to a modern PC, we will see that we can drastically reduce this.)
When we ran <code class="code docutils literal"><span class="pre">read_dictionary</span></code>, we saved the entire scrabble dictionary and passed it to <code class="code docutils literal"><span class="pre">longest_word</span></code>, and the scrabble dictionary alone takes up roughly 3MB on my disk.
Consider instead the following function.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">read_dictionary_iter</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;../data/sowpods.txt&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;create an iterable that reads words in the scrabble dictionary&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">scrabblefile</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">scrabblefile</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">word</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>
</div>
<p>This function defines a custom iterator, which you can see from the <code class="code docutils literal"><span class="pre">yield</span></code> command.
When this function is called it does not run the for loop immediately, but waits for next to be called on the resulting iterator.
Each time next is called the for loop in read_dictionary_iter is incremented and the resulting word is returned.
We can pass the resulting iterator to longest_word and it will act just like using a cached list of the words in the for loop of longest_word.
The difference is that we never stored the scrabble dictionary in memory.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="o">%</span><span class="k">timeit</span> ordered_words = longest_word(read_dictionary_iter())
<span class="go">10 loops, best of 3: 148 ms per loop</span>

<span class="gp">In [44]: </span><span class="o">%</span><span class="k">memit</span> ordered_words = longest_word(read_dictionary_iter())
<span class="go">peak memory: 57.80 MiB, increment: 0.00 MiB</span>
</pre></div>
</div>
<p>We see that the run time was similar, but the memory used through the process was negligible (the increment is the memory used by the line being profiled).
It is important to note that if we wanted to do something else with the scrabble dictionary then it will not be in memory, which we could have accomplished by saving the dictionary as a variable for future use if we called read_dictionary.
In general, it is much slower to read from the hard drive than it is from main memory, so if you have the free memory, it may be better to cache data that you plan to use in the future in memory.
The speed to read from various locations in your computer or network is called latency.</p>
<p>The difference between latency for main memory, hard drives, and network drives is measured in orders of magnitude.
For example, to read 1MB from the main memory, which is where your variables are stored, takes roughly 0.25 milliseconds. To read 1MB from a solid state drive takes 1 millisecond, and to read 1MB from a hard disk takes 20 milliseconds. Reading data over a network depends on the speed of routing packets across that network, but it typically is greater than 10 times as slow as reading from disk. When working with big data, it is very common to have many GB of data in multiple drives over a network. The standard way to deal with this is to read the data from drive sequentially, and only store what is needed in memory.  The following note is attributed to Jeff Dean and Peter Norvig and it gives a more complete picture of latencies for a standard PC:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>Latency Comparison Numbers (~2012)
----------------------------------
L1 cache reference                           0.5 ns
Branch mispredict                            5   ns
L2 cache reference                           7   ns                      14x L1 cache
Mutex lock/unlock                           25   ns
Main memory reference                      100   ns                      20x L2 cache, 200x L1 cache
Compress 1K bytes with Zippy             3,000   ns        3 us
Send 1K bytes over 1 Gbps network       10,000   ns       10 us
Read 4K randomly from SSD*             150,000   ns      150 us          ~1GB/sec SSD
Read 1 MB sequentially from memory     250,000   ns      250 us
Round trip within same datacenter      500,000   ns      500 us
Read 1 MB sequentially from SSD*     1,000,000   ns    1,000 us    1 ms  ~1GB/sec SSD, 4X memory
Disk seek                           10,000,000   ns   10,000 us   10 ms  20x datacenter roundtrip
Read 1 MB sequentially from disk    20,000,000   ns   20,000 us   20 ms  80x memory, 20X SSD
Send packet CA-&gt;Netherlands-&gt;CA    150,000,000   ns  150,000 us  150 ms

Notes
-----
1 ns = 10^-9 seconds
1 us = 10^-6 seconds = 1,000 ns
1 ms = 10^-3 seconds = 1,000 us = 1,000,000 ns

Credit
------
By Jeff Dean:               http://research.google.com/people/jeff/
Originally by Peter Norvig: http://norvig.com/21-days.html#answers

Contributions
-------------
&#39;Humanized&#39; comparison:  https://gist.github.com/hellerbarde/2843375
Visual comparison chart: http://i.imgur.com/k0t1e.png
</pre></div>
</div>
</div>
</div>
<div class="section" id="data-structures-and-dictionaries">
<h2>Data Structures and Dictionaries<a class="headerlink" href="#data-structures-and-dictionaries" title="Permalink to this headline">¶</a></h2>
<p>A dictionary is a mapping from keys to values.
You can initialize the dictionary using curly brackets <code class="docutils literal"><span class="pre">{}</span></code> with key value pairs as in the following.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">pract_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;AAL&#39;</span><span class="p">:</span><span class="s1">&#39;Aalborg, Denmark&#39;</span><span class="p">,</span> <span class="s1">&#39;AAR&#39;</span><span class="p">:</span><span class="s1">&#39;Aarhus, Denmark&#39;</span><span class="p">,</span> <span class="s1">&#39;ABA&#39;</span><span class="p">:</span><span class="s1">&#39;Abakan, Russia&#39;</span><span class="p">}</span>

<span class="gp">In [46]: </span><span class="k">print</span><span class="p">(</span><span class="n">pract_dict</span><span class="p">[</span><span class="s1">&#39;AAR&#39;</span><span class="p">])</span>
<span class="go">Aarhus, Denmark</span>
</pre></div>
</div>
<p>The keys here are airport codes and the values are the cities.
We can access the values for a given key using square brackets, <code class="docutils literal"><span class="pre">[]</span></code>.
You can also initialize a dictionary using a generator expression as in the following.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [47]: </span><span class="p">{</span><span class="n">j</span><span class="p">:</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="s1">&#39;hotdog&#39;</span><span class="p">)}</span>
<span class="gh">Out[47]: </span><span class="go">{&#39;d&#39;: 3, &#39;g&#39;: 5, &#39;h&#39;: 0, &#39;o&#39;: 4, &#39;t&#39;: 2}</span>
</pre></div>
</div>
<p>Typically for a dictionary you will initialize it and then use it for look-ups.
To understand the real difference between dictionaries and lists let&#8217;s learn something about data structures.</p>
<p>A <em>data structure</em> refers to an entire collection of data with all of their relationships and methods associated with them.
The <em>list</em> has an underlying data structure that allows for fast access of its elements (via slicing) and efficient extension of the list (via the <code class="docutils literal"><span class="pre">append</span></code> method) and deletion of elements (by using <code class="docutils literal"><span class="pre">del</span></code>).
One simple theoretical data structure is the <em>stack</em> which maintains a list of items called the stack and you can only push items to the top of the stack (end of the list) or pop them off of the top of the stack, at which point they are no longer in the stack.
This last-in first-out behavior of the stack limits its capabilities, but it provides a simple theoretical construct, and it is interesting to ask the question &#8220;what sorts of things can I do with a stack?&#8221;
The Python <code class="docutils literal"><span class="pre">list</span></code> can function as a stack and it has the <code class="docutils literal"><span class="pre">push</span></code> and <code class="docutils literal"><span class="pre">pop</span></code> methods that do precisely this, but it also allows for deletion and modification of any item in the list, which is not something that stacks can do in general.</p>
<p>Different data structures are efficient for different operations.
The list is great if you want to look up the item based on its index.
It is inefficient for looking up the index for a certain value.
This is because <code class="docutils literal"><span class="pre">list.index</span></code> will look up the index for that value by iterating through the list until the value is found.
This means that the amount of time that this can take will scale like the length of the list (we say that this takes <span class="math">\(O(n)\)</span> time where n is the length of the list).
If you want to do fast index lookups you have two main options: a dictionary for reverse lookups, or a sortedlist.
Often there will be many different types that you can use to accomplish the same goal, such as when using a tuple, list, or dictionary for storing numbers.
You will need to anticipate what sort of operations you will perform on the data in order to choose which type to use.</p>
<p>To illustrate this point, let&#8217;s consider the list of all of the words in the scrabble dictionary.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [48]: </span><span class="k">print</span><span class="p">(</span><span class="n">scrabble_words</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>
<span class="go">[&#39;AA&#39;, &#39;AAH&#39;, &#39;AAHED&#39;, &#39;AAHING&#39;, &#39;AAHS&#39;, &#39;AAL&#39;, &#39;AALII&#39;, &#39;AALIIS&#39;, &#39;AALS&#39;, &#39;AARDVARK&#39;]</span>

<span class="gp">In [49]: </span><span class="nb">len</span><span class="p">(</span><span class="n">scrabble_words</span><span class="p">)</span>
<span class="gh">Out[49]: </span><span class="go">267751</span>

<span class="gp">In [50]: </span><span class="n">scrabble_words</span><span class="p">[</span><span class="mi">99999</span><span class="p">]</span>
<span class="gh">Out[50]: </span><span class="go">&#39;GYNAECEA&#39;</span>
</pre></div>
</div>
<p>We want to make the reverse look-up to see what index gives the word &#8216;GYNAECEA&#8217;.
Let&#8217;s time the use of <code class="docutils literal"><span class="pre">index</span></code> to accomplish this.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [51]: </span><span class="o">%</span><span class="k">timeit</span> gy_ind = scrabble_words.index(&#39;GYNAECEA&#39;)
<span class="go">1000 loops, best of 3: 1.35 ms per loop</span>
</pre></div>
</div>
<p>This command takes roughly 1.35 milliseconds to perform.
Consider making a dictionary where the keys are the words in the dictionary, and the values are the indices in the dictionary.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [52]: </span><span class="n">ind_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">word</span><span class="p">:</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">word</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">scrabble_words</span><span class="p">)}</span>

<span class="gp">In [53]: </span><span class="o">%</span><span class="k">timeit</span> gy_ind = ind_dict[&#39;GYNAECEA&#39;]
<span class="go">The slowest run took 38.77 times longer than the fastest. This could mean that an intermediate result is being cached.</span>
<span class="go">10000000 loops, best of 3: 50.3 ns per loop</span>
</pre></div>
</div>
<p>When we initialize a dictionary it creates what is known as a <em>hash table</em> that matches keys to values.
A hash table stores the values in blocks in memory, where the location in memory is based on a built in hash function.
An example of a hash function for integers is the mod operation, <code class="docutils literal"><span class="pre">i</span> <span class="pre">%</span> <span class="pre">99</span></code> for example.
For the keys <code class="docutils literal"><span class="pre">1024</span></code> and <code class="docutils literal"><span class="pre">9638</span></code> this hash function gives us <code class="docutils literal"><span class="pre">34</span></code> and <code class="docutils literal"><span class="pre">35</span></code> respectively.
The hash table then stores the values that you would like to store in blocks <code class="docutils literal"><span class="pre">34</span></code> and <code class="docutils literal"><span class="pre">35</span></code>.
Hashing requires special considerations when there is a collision&#8212;two inputs have the same output.</p>
<p>If you call <code class="docutils literal"><span class="pre">hash('james')</span></code> then you see the hash value of a string, which determines where the value is stored in memory.
This means that to find a value of a key, you only need to evaluate the hash function of the key.
Consequently lookups take constant time (the run-time does not significantly increase with the length of the dictionary).
That is why the look-up in the previous code-block takes only 50 nanoseconds&#8212;roughly 25,000 times faster than the <code class="docutils literal"><span class="pre">index</span></code> method.
The only drawback is that the hash table takes up perhaps an unneccessary amount of memory and initializing the dictionary may take some time.
You also need to use keys that are hashable, such as strings, ints, floats.</p>
<p>A sorted list is just a sorted version of the original list used to construct it. Because it is sorted you can look for values through the bisection method. Bisection will look at the mid-point in the sorted list and determine if the query is greater than or less than that value. Then you can rule out half of the list, and continue bisecting in the other half recursively until you find the value. This means that it takes <span class="math">\(O(\log n)\)</span> time to do the lookup. Look at the code below from the scrabble dictionary reverse lookup example.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [54]: </span><span class="kn">from</span> <span class="nn">sortedcontainers</span> <span class="kn">import</span> <span class="n">SortedList</span>

<span class="gp">In [55]: </span><span class="n">ind_sl</span> <span class="o">=</span> <span class="n">SortedList</span><span class="p">(</span><span class="n">scrabble_words</span><span class="p">)</span>

<span class="gp">In [56]: </span><span class="o">%</span><span class="k">timeit</span> gy_ind = ind_sl.index(&#39;GYNAECEA&#39;)
<span class="go">The slowest run took 60.51 times longer than the fastest. This could mean that an intermediate result is being cached.</span>
<span class="go">100000 loops, best of 3: 2.97 µs per loop</span>
</pre></div>
</div>
<p>The look-up took considerable less time than using the list&#8212;roughly 500 times less time&#8212;but it is still slower than using the dictionary.
The SortedList is not built-in to Python and you will have to install the sortedcontainers package.
Typically, we don&#8217;t use the SortedList unless it is necessary, and will generally stick with dictionaries for reverse look-ups.</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Galton was the cousin of Charles Darwin and studied the implications of natural selection and variability on human populations.  He was a proponent of eugenics, and much of his research centered on the inheritability of intelligence.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="pres" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[Pres]</a></td><td>Gerhard Peters,The American Presidency Project [online]. Santa Barbara, CA: University of California (hosted), Gerhard Peters (database). Available from World Wide Web: <a class="reference external" href="http://www.presidency.ucsb.edu/inaugurals_words.php">http://www.presidency.ucsb.edu/inaugurals_words.php</a>.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Data and Computation</a><ul>
<li><a class="reference internal" href="#two-tales-of-data">Two Tales of Data</a></li>
<li><a class="reference internal" href="#data-in-python">Data in Python</a><ul>
<li><a class="reference internal" href="#lists-and-slicing">Lists and slicing</a></li>
<li><a class="reference internal" href="#code-blocks-and-indentation">Code blocks and indentation</a></li>
<li><a class="reference internal" href="#tuples-and-immutability">Tuples and immutability</a></li>
</ul>
</li>
<li><a class="reference internal" href="#processing-data-latency-and-iterables">Processing Data, Latency, and Iterables</a><ul>
<li><a class="reference internal" href="#strings-and-input-output-io">Strings and Input/Output (IO)</a></li>
<li><a class="reference internal" href="#reading-data">Reading data</a></li>
<li><a class="reference internal" href="#list-comprehension-and-generator-expressions">List comprehension and generator expressions</a></li>
<li><a class="reference internal" href="#iterators">Iterators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-structures-and-dictionaries">Data Structures and Dictionaries</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="intro.html" title="previous chapter">Introduction</a></li>
      <li>Next: <a href="learning.html" title="next chapter">Statistical Learning Machines</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/unit1/data.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, James Sharpnack.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="../_sources/unit1/data.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>